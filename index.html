<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boss Night Team Builder</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="app">
    <header class="header">
      <h1>⚔️ Boss Night Team Builder</h1>
      <p class="tagline">Import sign-ups, set priority, generate teams, drag to adjust, then copy into Discord.</p>
    </header>

    <div class="main-layout">
      <!-- Left: Import + Character list sidebar -->
      <aside class="sidebar">
        <section class="card">
          <h2>1. Import</h2>
          <p class="hint">One line per player: <code>@Name (Vocation) BossCodes</code></p>
          <textarea id="import-text" class="import-textarea"
            placeholder="@Alice (EK) PZFHL&#10;Bob (MS) PZ (ED) F"></textarea>
          <div class="row">
            <button type="button" class="btn btn-primary" id="btn-import">Import</button>
            <span id="import-status" class="status"></span>
          </div>
        </section>
        <section class="card sidebar-characters" id="sidebar-characters">
          <h2>Imported characters</h2>
          <p class="hint">Set <strong>priority</strong>: 0 = highest (picked first), 1, 2, etc.</p>
          <div id="sidebar-list" class="sidebar-list"></div>
        </section>
      </aside>

      <!-- Right: Generate + Teams -->
      <main class="content">
        <section class="card info-box">
          <h2>ℹ️ How teams are built</h2>
          <p><strong>Selection order:</strong> Priority (0 = first) → vocation preference → name. Lower priority =
            picked first; rest become backups.</p>
          <p><strong>Complete team:</strong> Meets minimum vocations and boss rules below. If not enough sign-ups, a
            partial team is still shown (with ⚠️); you can use it or adjust.</p>
          <h3>Minimum requirements (complete teams)</h3>
          <ul class="requirements-list">
            <li><strong>Pale (P)</strong> — 10: EK≥1, ED≥1, shooters (MS+RP)≥2</li>
            <li><strong>Zelos (Z)</strong> — 10: EK 2–3, ED≥2, MS≥2, RP≥2; if 3 EK then ED≥3, RP≥1</li>
            <li><strong>Ferumbras (F)</strong> — 15: EK≥2, ED≥2, MS≥1, shooters≥3</li>
            <li><strong>Heart of Destruction (H)</strong> — 15: EK 3–6, ED≥3, MS≥1, shooters≥5</li>
            <li><strong>Last Lore Keeper (L)</strong> — 15: EK≥4, ED≥4, MS≥1, shooters≥5</li>
            <li><strong>Cults (C)</strong> — 10: EK≥1, ED≥1, RP≥1, shooters≥2</li>
            <li><strong>The First Dragon (D)</strong> — 15: EK≥2, ED≥2</li>
          </ul>
          <h3>Preferred setup</h3>
          <p>Teams are filled to the boss size (10 or 15) while respecting min/max per vocation. HoD is split into 3
            parties of 5 (Left/Mid/Right); LLK into 4 parties (Top Left, Top Right, Bottom Left, Bottom Right).</p>
        </section>
        <section class="card">
          <h2>2. Generate teams</h2>
          <p class="hint">Boss codes + count: <code>P2 Z1 F1</code> = 2 Pale, 1 Zelos, 1 Feru.</p>
          <div class="row">
            <input type="text" id="team-codes" class="input-codes" placeholder="P2 Z1 F1 H1 L1 C1"
              value="P2 Z1 F1 H1 L1 C1">
            <button type="button" class="btn btn-primary" id="btn-generate">Generate teams</button>
          </div>
          <div id="generate-status" class="status"></div>
        </section>

        <section class="card hidden" id="step-preview">
          <h2>3. Preview &amp; copy</h2>
          <p class="hint">Drag players between teams. Empty teams are ignored when you copy. Always one extra team slot
            so you can add more.</p>
          <div id="teams-preview" class="teams-preview"></div>
          <div class="row actions">
            <button type="button" class="btn btn-secondary" id="btn-regen">Regenerate</button>
            <button type="button" class="btn btn-primary" id="btn-copy">Copy formatted text</button>
            <span id="copy-status" class="status"></span>
          </div>
          <div class="output-section">
            <label>Copy per team (paste into Discord)</label>
            <div id="output-boxes" class="output-boxes"></div>
            <label for="output-text">Full formatted text</label>
            <textarea id="output-text" class="output-textarea" readonly></textarea>
          </div>
        </section>
      </main>
    </div>
  </div>
  <script src="app.js"></script>
</body>

</html>